import{o as C,e as b,w as i,h as n,f as r,u as $,r as y,d as k,i as f,j as _,k as A}from"./app-1wYJt2nm.js";import{_ as E}from"./number-lpyd5z-F.js";import{_ as v}from"./Button.vue_vue_type_script_setup_true_lang-CMtlm_o_.js";import{_ as N}from"./TextInput.vue_vue_type_script_setup_true_lang-B4Lqoynf.js";const O={__name:"CreateAccountModal",props:{show:{type:Boolean,default:()=>!1}},emits:["close","success"],setup(l,{emit:u}){const t=u;return(c,s)=>(C(),b(r(E),{show:l.show,title:"Create Account","wrapper-class":"lg:max-w-[500px]",onClose:s[2]||(s[2]=a=>t("close"))},{"body-footer":i(()=>[n(r(V),{"api-route":"REQUEST_CREATE_ACCOUNT",onClose:s[0]||(s[0]=a=>t("close")),onSuccess:s[1]||(s[1]=a=>t("success"))})]),_:1},8,["show"]))}},S={class:"px-6 pt-6 pb-8"},T={class:"flex items-center justify-end gap-x-4 p-4"},V={__name:"AccountForm",props:{model:{type:Object,default:()=>{}},apiRoute:{type:String,required:!0}},emits:["close","success"],setup(l,{emit:u}){const t=l,c=u,a=$().dispatch,e=y({name:null,errors:{},success:!1,...t.model}),w=async()=>{e.value.errors={};const{data:m,status:o}=await a(t.apiRoute,e.value);[200,201].includes(o)?(e.value.success=!0,x(),a("SHOW_NOTIF_ALERT",{message:"Changes saved."}),c("success")):(e.value.errors=m.errors,e.value.errors.name="")},x=()=>{e.value={name:null,errors:{},success:!1}};return(m,o)=>{var p;return C(),k("form",{novalidate:"",onSubmit:A(w,["prevent"])},[f("div",S,[n(r(N),{modelValue:e.value.name,"onUpdate:modelValue":o[0]||(o[0]=d=>e.value.name=d),label:"Name",errors:(p=e.value.errors)==null?void 0:p.name},null,8,["modelValue","errors"])]),f("div",T,[n(r(v),{variant:"blank",onClick:o[1]||(o[1]=d=>c("close"))},{default:i(()=>[_(" Cancel ")]),_:1}),n(r(v),{type:"submit"},{default:i(()=>[_(" Confirm ")]),_:1})])],32)}}};export{O as _,V as a};
