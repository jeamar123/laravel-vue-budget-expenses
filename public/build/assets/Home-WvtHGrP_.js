import{u as y,c as d,r as k,l as R,o as l,e as h,w as b,h as p,f as o,j as S,i as n,d as f,F as w,m as D,n as j,t as m,b as M,p as $,g as T,_ as z}from"./app-CtBn2vVf.js";import{C,_ as F}from"./Button.vue_vue_type_script_setup_true_lang-1kfnEb8x.js";import{_ as I}from"./TransactionFilterModal-C-tBDBS8.js";import{_ as E}from"./Heading.vue_vue_type_script_setup_true_lang-BMHQnXt7.js";import{f as v}from"./number-CtAM9hfQ.js";import{_ as A}from"./Loading.vue_vue_type_script_setup_true_lang-BH2yx93P.js";/* empty css            */import"./use-text-value-DzJ2My_W.js";const X={class:"flex flex-col space-y-1"},U={__name:"TransactionCategories",setup(x){const e=y(),c=e.dispatch,r=d(()=>e.state.transactions.categories.filter(({total:t})=>t!==0)),s=k([{bgColor:"#e5f6ff",fontColor:"inherit"},{bgColor:"#ceeaf9",fontColor:"inherit"},{bgColor:"#b8ddf4",fontColor:"inherit"},{bgColor:"#a1d1ee",fontColor:"inherit"},{bgColor:"#8ac4e9",fontColor:"inherit"},{bgColor:"#73b7e4",fontColor:"inherit"},{bgColor:"#5aaae0",fontColor:"inherit"},{bgColor:"#3c9edb",fontColor:"inherit"},{bgColor:"#0091d6",fontColor:"inherit"},{bgColor:"#0585c7",fontColor:"#fff"},{bgColor:"#0879b9",fontColor:"#fff"},{bgColor:"#096dab",fontColor:"#fff"},{bgColor:"#09619c",fontColor:"#fff"},{bgColor:"#08568e",fontColor:"#fff"},{bgColor:"#054b80",fontColor:"#fff"},{bgColor:"#034073",fontColor:"#fff"},{bgColor:"#003665",fontColor:"#fff"},{bgColor:"#1b4576",fontColor:"#fff"},{bgColor:"#2f5488",fontColor:"#fff"},{bgColor:"#41649a",fontColor:"#fff"}]);return R(()=>{c("REQUEST_GET_TRANSACTIONS_BY_CATEGORY")}),(t,a)=>(l(),h(o(C),null,{default:b(()=>[p(o(E),{as:"h3",class:"text-slate-800 mb-2"},{default:b(()=>[S("Categories")]),_:1}),n("div",X,[(l(!0),f(w,null,D(r.value,({name:i,total:u},_)=>{var g,O,B;return l(),f("div",{key:i,class:"border text-sm rounded px-2 py-[3px] flex items-center justify-between",style:j({"background-color":(g=s.value[_])==null?void 0:g.bgColor,color:(O=s.value[_])==null?void 0:O.fontColor,"border-color":(B=s.value[_])==null?void 0:B.bgColor})},[n("label",null,m(i),1),n("p",null,m(o(v)(u)),1)],4)}),128))])]),_:1}))}},N={__name:"Sparkline",props:{data:{type:Array,required:!0},labels:{type:Array,required:!0},title:{type:Object,default:{text:"",offsetX:30,style:{fontSize:"24px",cssClass:"apexcharts-yaxis-title"}}},subtitle:{type:Object,default:{text:"",offsetX:30,style:{fontSize:"14px",cssClass:"apexcharts-yaxis-title"}}},color:{type:String,default:"#DCE6EC"}},setup(x){const e=x;var c=["#DCE6EC","#00D8B6","#008FFB","#FEB019","#FF4560","#775DD0"];const r=d(()=>{var t;return[{name:((t=e.subtitle)==null?void 0:t.text)??"",data:e.data??[]}]}),s=d(()=>({chart:{type:"area",height:160,sparkline:{enabled:!0}},stroke:{curve:"straight"},fill:{opacity:1},labels:e.labels??[],yaxis:{min:0,show:!1},xaxis:{type:"datetime"},colors:e.color?[e.color]:c,title:e.title,subtitle:e.subtitle,legend:{show:!1}}));return(t,a)=>{const i=M("apexchart");return l(),h(i,{type:s.value.chart.type,height:s.value.chart.height,options:s.value,series:r.value},null,8,["type","height","options","series"])}}},G={__name:"DonutChart",props:{data:{type:Array,required:!0},labels:{type:Array,required:!0}},setup(x){const e=x,c=d(()=>e.data??[]),r=d(()=>({chart:{width:s>1023?420:"100%",type:"donut"},labels:e.labels??[],fill:{opacity:1},stroke:{width:3,colors:["#f8fafc"]},yaxis:{show:!1},legend:{position:s>1023?"right":"bottom"},plotOptions:{polarArea:{rings:{strokeWidth:0},spokes:{strokeWidth:0}}},theme:{monochrome:{enabled:!0,color:"#08568e",shadeTo:"dark",shadeIntensity:.6}},tooltip:{enabled:!1},dataLabels:{enabled:!1}})),s=window.innerWidth;return(t,a)=>{const i=M("apexchart");return l(),h(i,{type:r.value.chart.type,width:r.value.chart.width,options:r.value,series:c.value},null,8,["type","width","options","series"])}}},Y={key:0,class:"relative bottom-[-2px]"},q={key:1,class:"flex min-h-[170px] items-center"},H={__name:"BalanceReport",setup(x){const e=y(),c=d(()=>{var t,a;return(a=(t=e.state.dashboard.balanceReport)==null?void 0:t.current)==null?void 0:a.balance}),r=d(()=>{var t,a;return((a=(t=e.state.dashboard.balanceReport)==null?void 0:t.monthly)==null?void 0:a.map(({balance:i})=>i))||[]}),s=d(()=>{var t,a;return((a=(t=e.state.dashboard.balanceReport)==null?void 0:t.monthly)==null?void 0:a.map(({label:i})=>i))||[]});return(t,a)=>(l(),h(o(C),{class:"!px-0 !pb-0"},{default:b(()=>[c.value!==void 0?(l(),f("div",Y,[p(o(N),{title:{text:o(v)(c.value),offsetX:30,style:{fontSize:"32px"}},subtitle:{text:"Balance",offsetX:30,offsetY:40,style:{fontSize:"14px"}},color:"#00D8B6",labels:s.value,data:r.value},null,8,["title","labels","data"])])):(l(),f("div",q,[p(o(A),{placement:"internal","show-text":!1})]))]),_:1}))}},L={key:0,class:"relative bottom-[-2px]"},P={key:1,class:"flex min-h-[170px] items-center"},Q={__name:"IncomeReport",setup(x){const e=y(),c=d(()=>{var t,a;return(a=(t=e.state.dashboard.balanceReport)==null?void 0:t.current)==null?void 0:a.income}),r=d(()=>{var t,a;return((a=(t=e.state.dashboard.balanceReport)==null?void 0:t.monthly)==null?void 0:a.map(({income:i})=>i))||[]}),s=d(()=>{var t,a;return((a=(t=e.state.dashboard.balanceReport)==null?void 0:t.monthly)==null?void 0:a.map(({label:i})=>i))||[]});return(t,a)=>(l(),h(o(C),{class:"!px-0 !pb-0"},{default:b(()=>[c.value!==void 0?(l(),f("div",L,[p(o(N),{title:{text:o(v)(c.value),offsetX:30,style:{fontSize:"24px"}},subtitle:{text:"Income",offsetX:30,style:{fontSize:"14px"}},labels:s.value,data:r.value},null,8,["title","labels","data"])])):(l(),f("div",P,[p(o(A),{placement:"internal","show-text":!1})]))]),_:1}))}},V={key:0,class:"relative bottom-[-2px]"},W={key:1,class:"flex min-h-[170px] items-center"},J={__name:"ExpensesReport",setup(x){const e=y(),c=d(()=>{var t,a;return(a=(t=e.state.dashboard.balanceReport)==null?void 0:t.current)==null?void 0:a.expenses}),r=d(()=>{var t,a;return((a=(t=e.state.dashboard.balanceReport)==null?void 0:t.monthly)==null?void 0:a.map(({expenses:i})=>i))||[]}),s=d(()=>{var t,a;return((a=(t=e.state.dashboard.balanceReport)==null?void 0:t.monthly)==null?void 0:a.map(({label:i})=>i))||[]});return(t,a)=>(l(),h(o(C),{class:"!px-0 !pb-0"},{default:b(()=>[c.value!==void 0?(l(),f("div",V,[p(o(N),{title:{text:o(v)(c.value),offsetX:30,style:{fontSize:"24px"}},subtitle:{text:"Expenses",offsetX:30,style:{fontSize:"14px"}},labels:s.value,data:r.value},null,8,["title","labels","data"])])):(l(),f("div",W,[p(o(A),{placement:"internal","show-text":!1})]))]),_:1}))}},K={class:"w-full"},Z=n("thead",null,[n("tr",null,[n("th",{class:"bg-slate-900 text-white text-xs text-left font-semibold border-b py-[6px] px-2 rounded-l"}," Note "),n("th",{class:"bg-slate-900 text-white text-xs text-left font-semibold border-b py-[6px] px-2"}," Total "),n("th",{class:"bg-slate-900 text-white text-xs text-left font-semibold border-b py-[6px] px-2 rounded-r"}," Date ")])],-1),tt={class:"text-xs py-[6px] px-2"},et={key:0,class:"italic"},st={key:1},at={class:"text-xs py-[6px] px-2"},ot={class:"text-xs py-[6px] px-2"},lt={key:0},nt=n("td",{colspan:"3",class:"text-xs py-14 px-2 text-center italic"}," No Transactions yet ",-1),rt=[nt],ct={__name:"RecentTransactions",setup(x){const e=y();e.commit;const c=e.dispatch,r=d(()=>e.state.transactions.items.slice(0,6)),s=k(!0);R(async()=>{s.value=!0,await t()});const t=async()=>{await c("REQUEST_GET_TRANSACTIONS",{all:!0}),s.value=!1};return(a,i)=>s.value?T("",!0):(l(),h(o(C),{key:0,class:"lg:col-span-2"},{default:b(()=>[p(o(E),{as:"h4",class:"mb-3"},{default:b(()=>[S("Recent Transactions")]),_:1}),n("table",K,[Z,n("tbody",null,[(l(!0),f(w,null,D(r.value,u=>(l(),f("tr",{key:u.id},[n("td",tt,[u.description?(l(),f("span",st,m(u.description),1)):(l(),f("span",et,"N/A"))]),n("td",at,m(o(v)(u.total)),1),n("td",ot,m(o($)(u.date,"MMM dd yyyy")),1)]))),128)),r.value.length?T("",!0):(l(),f("tr",lt,rt))])])]),_:1}))}},it={class:"flex items-center justify-center"},dt={key:1,class:"flex items-center justify-center min-h-[200px]"},pt=n("p",{class:"text-center text-center italic"},"No Transactions yet",-1),ft=[pt],_t={__name:"ExpensesCategories",setup(x){const e=y();e.dispatch;const c=d(()=>e.state.transactions.categories.reduce((s,t)=>s+Number(t.total),0)),r=d(()=>({labels:e.state.transactions.categories.filter(({total:s})=>s!==0).map(({name:s})=>s),data:e.state.transactions.categories.filter(({total:s})=>s!==0).map(({total:s})=>s)}));return(s,t)=>(l(),h(o(C),null,{default:b(()=>[p(o(E),{as:"h3",class:"text-slate-800 mb-2"},{default:b(()=>[S("Categories")]),_:1}),n("div",it,[c.value>0?(l(),h(o(G),{key:0,labels:r.value.labels,data:r.value.data},null,8,["labels","data"])):(l(),f("div",dt,ft))])]),_:1}))}},ut={class:"container py-4 md:pt-2 lg:pt-5 px-4 md:px-2 lg:px-8 h-full"},xt={class:"px-2 md:px-0 mb-3 flex flex-row items-start md:items-center justify-between gap-y-2 gap-x-2"},ht={class:"flex flex-col md:flex-row gap-y-5 gap-x-2 md:gap-x-4 md:items-center"},bt={class:"flex items-center gap-x-2"},mt=n("span",{class:"text-xs"},"Filters: ",-1),yt={class:"flex gap-x-2"},gt={key:0,class:"bg-gray-200 rounded py-[2px] px-2 text-[11px]"},Ct={class:"flex md:items-center justify-end flex-1 gap-x-2"},vt={class:"grid lg:grid-cols-12 gap-x-5 gap-y-2 lg:gap-y-6"},Nt={__name:"Home",setup(x){const e=y(),c=e.commit,r=e.dispatch,s=d(()=>e.state.dashboard.filters),t=k();R(()=>{a()});const a=()=>{r("FETCH_BALANCE_REPORT"),r("REQUEST_GET_TRANSACTIONS_SUMMARY"),r("REQUEST_GET_TRANSACTIONS_BY_CATEGORY")},i=u=>{const _={filters:{...s.value,start:u.start,end:u.end}};c("UPDATE_DASHBOARD_STATE",_),c("UPDATE_TRANSACTIONS_STATE",_),a()};return(u,_)=>(l(),f(w,null,[n("section",ut,[n("div",xt,[n("div",ht,[n("div",bt,[mt,n("div",yt,[Object.keys(s.value).includes("start")&&Object.keys(s.value).includes("end")?(l(),f("div",gt,m(o($)(s.value.start,"MMM dd, yyyy"))+" - "+m(o($)(s.value.end,"MMM dd, yyyy")),1)):T("",!0)])])]),n("div",Ct,[p(o(F),{variant:"blank",class:"!p-[6px] !border !border-solid !border-slate-800",onClick:_[0]||(_[0]=g=>t.value=!0)},{default:b(()=>[p(o(z),{name:"AdjustmentsHorizontalIconOutline",class:"w-6 h-6 text-slate-900"})]),_:1})])]),n("div",vt,[p(o(H),{class:"lg:col-span-4"}),p(o(Q),{class:"lg:col-span-4"}),p(o(J),{class:"lg:col-span-4"}),p(o(ct),{class:"lg:col-span-5"}),p(o(_t),{class:"lg:col-span-4"}),p(o(U),{class:"lg:col-span-4"})])]),t.value?(l(),h(o(I),{key:0,show:t.value,onClose:_[1]||(_[1]=g=>t.value=!1),onDatesChanged:_[2]||(_[2]=g=>{i(g),t.value=!1})},null,8,["show"])):T("",!0)],64))}};export{Nt as default};
