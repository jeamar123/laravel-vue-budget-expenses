import{u as w,a as h,c as y,r as V,b,o as c,d as k,e as C,f as t,g as L,h as a,w as n,F as N,i as r,t as U,j as l,k as B}from"./app-YLqGBJoh.js";import{_ as R,C as S}from"./Button.vue_vue_type_script_setup_true_lang-DUiTCrp8.js";import{_ as T}from"./Loading.vue_vue_type_script_setup_true_lang-0fuPc_zt.js";import{_ as p}from"./TextInput.vue_vue_type_script_setup_true_lang-uG5QcmWU.js";/* empty css            */const E=r("h5",{class:"text-center text-xl font-medium mb-8",textContent:"Login"},null,-1),$={class:"w-full !mt-5"},j=["textContent"],z={class:"text-center text-xs text-gray-600 !mt-10"},I={__name:"Login",setup(D){const u=w(),_=u.dispatch,f=h(),x=y(()=>u.state.auth.isLoading),e=V({username:null,password:null,errors:{}}),v=async()=>{if(!e.value.username||!e.value.password)return e.value.errors.message="username and password is required.",!1;const{status:m,data:s}=await _("REQUEST_AUTH_LOGIN",e.value);m===200?f.push({name:"Transactions"}):e.value.errors.message=s.message};return(m,s)=>{const g=b("router-link");return c(),k(N,null,[x.value?(c(),C(t(T),{key:0})):L("",!0),a(t(S),{class:"w-[450px] !py-6 !px-6"},{default:n(()=>{var i,d;return[E,r("form",{class:"space-y-4",onSubmit:B(v,["prevent"])},[a(t(p),{modelValue:e.value.username,"onUpdate:modelValue":s[0]||(s[0]=o=>e.value.username=o),name:"username",placeholder:"Username",errors:(i=e.value.errors)==null?void 0:i.username},null,8,["modelValue","errors"]),a(t(p),{modelValue:e.value.password,"onUpdate:modelValue":s[1]||(s[1]=o=>e.value.password=o),type:"password",placeholder:"Password",errors:(d=e.value.errors)==null?void 0:d.password},null,8,["modelValue","errors"]),r("div",$,[r("small",{class:"text-red-500 mb-2 block",textContent:U(e.value.errors.message)},null,8,j),a(t(R),{type:"submit","btn-type":"primary","btn-size":"md","text-size":"lg",class:"w-full justify-center"},{default:n(()=>[l(" Go ")]),_:1})]),r("p",z,[l(" Don't have account yet? "),a(g,{to:{name:"Register"},class:"underline hover:text-primary"},{default:n(()=>[l("Register")]),_:1})])],32)]}),_:1})],64)}}};export{I as default};
