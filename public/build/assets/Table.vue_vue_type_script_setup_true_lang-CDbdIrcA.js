import{o as a,d as s,i as l,q as B,h as g,f as i,p as f,F as m,m as x,t as u,r as b,g as h,e as v,k as I,n as A,w as C,Z as N,$ as O}from"./app-BPd5lu4C.js";import{a as P,b as $}from"./SelectInput.vue_vue_type_script_setup_true_lang-BKdROLl1.js";import{_}from"./Button.vue_vue_type_script_setup_true_lang-CgJ8kCjX.js";import{f as j}from"./number-7H7IHvv5.js";function V(e,p){return a(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})])}function z(e,p){return a(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})])}const S={class:"flex justify-between px-6"},F={class:"flex items-center gap-x-3"},R=l("label",{class:"text-xs"},"Rows:",-1),T={class:"flex items-center gap-x-[2px]"},q=["onClick"],D=B({__name:"TablePagination",props:{data:{type:Object,default:()=>({current_page:1,last_page:1,next_page_url:null,per_page:5,prev_page_url:null,total:5})}},emits:["rows","paginate"],setup(e,{emit:p}){const k=p;return(r,d)=>(a(),s("div",S,[l("div",F,[R,g(i(P),{items:[10,25,50,100],"model-value":e.data.per_page,"dropdown-direction":"top","onUpdate:modelValue":d[0]||(d[0]=n=>k("rows",n))},null,8,["model-value"])]),l("ul",T,[l("li",{class:f(["w-8 h-8 rounded-lg flex items-center justify-center cursor-pointer",[e.data.current_page===1?"opacity-50 pointer-events-none":"hover:text-white hover:bg-primary"]]),onClick:d[1]||(d[1]=n=>k("paginate",e.data.current_page-1))},[g(i(V),{class:"w-4"})],2),(a(!0),s(m,null,x(e.data.last_page,n=>(a(),s("li",{key:n,class:f(["w-8 h-8 rounded-lg flex items-center justify-center text-xs cursor-pointer hover:text-white hover:bg-primary",{"text-white bg-primary":n===e.data.current_page}]),onClick:w=>k("paginate",n)},u(n),11,q))),128)),l("li",{class:f(["w-8 h-8 rounded-lg flex items-center justify-center cursor-pointer",[e.data.current_page===e.data.last_page?"opacity-50 pointer-events-none":"hover:text-white hover:bg-primary"]]),onClick:d[2]||(d[2]=n=>k("paginate",e.data.current_page+1))},[g(i(z),{class:"w-4"})],2)])]))}}),E={class:"flex flex-col gap-y-10"},H={class:""},L={key:0,class:"flex justify-between px-4 py-2 text-xs"},U={class:"overflow-x-auto"},Z={class:"min-w-full"},G={key:0,class:"sticky top-0 left-0 z-[2] bg-gray-100 pl-4 pr-2 py-3 font-normal rounded-l-md w-14"},J={key:1,class:"sticky top-0 bg-gray-100 text-right pl-2 pr-4 py-4 font-normal rounded-r-md"},K=["onClick"],Q={key:0,class:"sticky left-0 z-[2] pl-4 pr-2 py-3 group-even:bg-gray-50 group-odd:bg-white rounded-l-md"},W={key:0},X={key:2},Y={key:3,class:"inline-block border border-slate-400 py-[1px] px-1 rounded text-xs"},ee={key:4},te={class:"pl-2 pr-4 group-even:bg-gray-50 rounded-r-md"},ae={key:0,class:"flex items-center justify-end gap-x-1"},se={key:1,class:"bg-gray-50 text-center px-6"},ne=["colspan"],de=B({__name:"Table",props:{headers:{type:Array,default:()=>[]},data:{type:Array,default:()=>[]},showPagination:{type:Boolean,default:()=>!1},showCheckbox:{type:Boolean,default:()=>!0},pagination:{type:Object,default:()=>{}},actions:{type:Object,default:()=>({show:!0,edit:!0,delete:!0})},showItemsInfo:{type:Boolean,default:()=>!0}},emits:["rows","paginate","edit","show","delete","selected","checkbox-checked"],setup(e,{emit:p}){const k=e,r=p,d=b(!1),n=b([]),w=y=>{d.value=y,y?n.value=k.data.map(({id:c})=>c):n.value=[],r("selected",n.value)},M=(y,c)=>{d.value=!1,c?n.value.includes(y)||n.value.push(y):n.value=n.value.filter(t=>t!==y),r("selected",n.value)};return(y,c)=>(a(),s("div",E,[l("div",H,[e.showItemsInfo?(a(),s("div",L,[l("div",null,u(n.value.length)+" selected ",1),l("div",null," Showing "+u(e.data.length)+" of "+u(e.pagination.total)+" results ",1)])):h("",!0),l("div",U,[l("table",Z,[l("thead",null,[l("tr",null,[e.showCheckbox?(a(),s("th",G,[g(i($),{checked:d.value,onChange:c[0]||(c[0]=t=>{w(t),r("checkbox-checked",n.value)})},null,8,["checked"])])):h("",!0),(a(!0),s(m,null,x(e.headers,t=>(a(),s("th",{key:t.id,class:f(["sticky top-0 bg-gray-100 text-left px-2 py-3 font-medium text-xs",e.showCheckbox?"px-2":"px-2 first:pl-4 first:pr-2"])},[l("span",null,u(t.label),1)],2))),128)),e.actions.show||Object.keys(e.actions).find(t=>e.actions[t]===!0)?(a(),s("th",J)):h("",!0)])]),l("tbody",null,[e.data.length?(a(!0),s(m,{key:0},x(e.data,t=>(a(),s("tr",{key:t.id,class:"group cursor-pointer",onClick:I(o=>r("show",t),["stop"])},[e.showCheckbox?(a(),s("td",Q,[g(i($),{checked:n.value.includes(t.id),onChange:o=>{M(t.id,o),r("checkbox-checked",n.value)}},null,8,["checked","onChange"])])):h("",!0),(a(!0),s(m,null,x(e.headers,o=>(a(),s("td",{key:o.id,class:f(["py-3 whitespace-nowrap group-even:bg-gray-50",[e.showCheckbox?"px-2":"px-2 first:pl-4 first:pr-2"]])},[["created_at","date"].includes(o.key)?(a(),s("span",W,u(i(A)(t[o.key],"MMM dd yyyy")),1)):["total","amount","remaining"].includes(o.key)?(a(),s("span",{key:1,class:f(["",t[o.key]<0?"font-medium text-red-600":"font-medium text-green-900"])},u(i(j)(t[o.key])),3)):typeof t[o.key]=="number"?(a(),s("span",X,u(i(j)(t[o.key])),1)):["category"].includes(o.key)?(a(),s("span",Y,u(t[o.key]),1)):(a(),s("span",ee,u(t[o.key]),1))],2))),128)),l("td",te,[e.actions.show||t.showActions?(a(),s("div",ae,[e.actions.edit?(a(),v(i(_),{key:0,variant:"blank",class:"!px-1",onClick:o=>r("edit",t)},{default:C(()=>[g(i(N),{class:"w-4"})]),_:2},1032,["onClick"])):h("",!0),e.actions.delete?(a(),v(i(_),{key:1,variant:"blank",class:"!px-1",onClick:o=>r("delete",t)},{default:C(()=>[g(i(O),{class:"w-4"})]),_:2},1032,["onClick"])):h("",!0)])):h("",!0)])],8,K))),128)):(a(),s("tr",se,[l("td",{colspan:e.headers.length+1+(e.actions.show?1:0),class:"py-5"}," No items yet ",8,ne)]))])])])]),e.showPagination?(a(),v(D,{key:0,data:e.pagination,onRows:c[1]||(c[1]=t=>r("rows",t)),onPaginate:c[2]||(c[2]=t=>r("paginate",t))},null,8,["data"])):h("",!0)]))}});export{de as _};
