import{v as H,x as Z,s as V,r as g,y as ee,c as D,z as te,A as ae,B as h,C as le,D as ne,E as oe,G as O,H as $,I as j,J as re,K as ue,N as U,l as Q,L as se,M as N,P as ie,Q as b,R as de,S as K,T as G,U as ce,o as k,d as L,i as S,e as T,w as R,h as P,f as x,q as B,V as ve,t as z,W as me,F as pe,m as fe,j as F,O as ye,p as y,g as E,X as q,Y as J}from"./app-1wYJt2nm.js";import{_ as W}from"./Button.vue_vue_type_script_setup_true_lang-CMtlm_o_.js";import{_ as be}from"./number-lpyd5z-F.js";import{p as ge,u as he,f as we,c as I}from"./use-text-value-BVRjvVgN.js";function Me({container:a,accept:v,walk:p,enabled:n}){H(()=>{let l=a.value;if(!l||n!==void 0&&!n.value)return;let o=Z(a);if(!o)return;let e=Object.assign(s=>v(s),{acceptNode:v}),r=o.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,e,!1);for(;r.nextNode();)p(r.currentNode)})}var xe=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(xe||{}),Ie=(a=>(a[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a))(Ie||{});function Se(a){requestAnimationFrame(()=>requestAnimationFrame(a))}let X=Symbol("MenuContext");function _(a){let v=ie(X,null);if(v===null){let p=new Error(`<${a} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(p,_),p}return v}let ke=V({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(a,{slots:v,attrs:p}){let n=g(1),l=g(null),o=g(null),e=g([]),r=g(""),s=g(null),w=g(1);function c(t=i=>i){let i=s.value!==null?e.value[s.value]:null,d=ce(t(e.value.slice()),M=>h(M.dataRef.domRef)),m=i?d.indexOf(i):null;return m===-1&&(m=null),{items:d,activeItemIndex:m}}let u={menuState:n,buttonRef:l,itemsRef:o,items:e,searchQuery:r,activeItemIndex:s,activationTrigger:w,closeMenu:()=>{n.value=1,s.value=null},openMenu:()=>n.value=0,goToItem(t,i,d){let m=c(),M=we(t===I.Specific?{focus:I.Specific,id:i}:{focus:t},{resolveItems:()=>m.items,resolveActiveIndex:()=>m.activeItemIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.disabled});r.value="",s.value=M,w.value=d??1,e.value=m.items},search(t){let i=r.value!==""?0:1;r.value+=t.toLowerCase();let d=(s.value!==null?e.value.slice(s.value+i).concat(e.value.slice(0,s.value+i)):e.value).find(M=>M.dataRef.textValue.startsWith(r.value)&&!M.dataRef.disabled),m=d?e.value.indexOf(d):-1;m===-1||m===s.value||(s.value=m,w.value=1)},clearSearch(){r.value=""},registerItem(t,i){let d=c(m=>[...m,{id:t,dataRef:i}]);e.value=d.items,s.value=d.activeItemIndex,w.value=1},unregisterItem(t){let i=c(d=>{let m=d.findIndex(M=>M.id===t);return m!==-1&&d.splice(m,1),d});e.value=i.items,s.value=i.activeItemIndex,w.value=1}};return ee([l,o],(t,i)=>{var d;u.closeMenu(),te(i,ae.Loose)||(t.preventDefault(),(d=h(l))==null||d.focus())},D(()=>n.value===0)),le(X,u),ne(D(()=>oe(n.value,{0:O.Open,1:O.Closed}))),()=>{let t={open:n.value===0,close:u.closeMenu};return $({ourProps:{},theirProps:a,slot:t,slots:v,attrs:p,name:"Menu"})}}}),De=V({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(a,{attrs:v,slots:p,expose:n}){var l;let o=(l=a.id)!=null?l:`headlessui-menu-button-${j()}`,e=_("MenuButton");n({el:e.buttonRef,$el:e.buttonRef});function r(u){switch(u.key){case b.Space:case b.Enter:case b.ArrowDown:u.preventDefault(),u.stopPropagation(),e.openMenu(),N(()=>{var t;(t=h(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(I.First)});break;case b.ArrowUp:u.preventDefault(),u.stopPropagation(),e.openMenu(),N(()=>{var t;(t=h(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(I.Last)});break}}function s(u){switch(u.key){case b.Space:u.preventDefault();break}}function w(u){a.disabled||(e.menuState.value===0?(e.closeMenu(),N(()=>{var t;return(t=h(e.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(u.preventDefault(),e.openMenu(),Se(()=>{var t;return(t=h(e.itemsRef))==null?void 0:t.focus({preventScroll:!0})})))}let c=re(D(()=>({as:a.as,type:v.type})),e.buttonRef);return()=>{var u;let t={open:e.menuState.value===0},{...i}=a,d={ref:e.buttonRef,id:o,type:c.value,"aria-haspopup":"menu","aria-controls":(u=h(e.itemsRef))==null?void 0:u.id,"aria-expanded":e.menuState.value===0,onKeydown:r,onKeyup:s,onClick:w};return $({ourProps:d,theirProps:i,slot:t,attrs:v,slots:p,name:"MenuButton"})}}}),Re=V({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(a,{attrs:v,slots:p,expose:n}){var l;let o=(l=a.id)!=null?l:`headlessui-menu-items-${j()}`,e=_("MenuItems"),r=g(null);n({el:e.itemsRef,$el:e.itemsRef}),Me({container:D(()=>h(e.itemsRef)),enabled:D(()=>e.menuState.value===0),accept(t){return t.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function s(t){var i;switch(r.value&&clearTimeout(r.value),t.key){case b.Space:if(e.searchQuery.value!=="")return t.preventDefault(),t.stopPropagation(),e.search(t.key);case b.Enter:if(t.preventDefault(),t.stopPropagation(),e.activeItemIndex.value!==null){let d=e.items.value[e.activeItemIndex.value];(i=h(d.dataRef.domRef))==null||i.click()}e.closeMenu(),G(h(e.buttonRef));break;case b.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Next);case b.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Previous);case b.Home:case b.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.First);case b.End:case b.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Last);case b.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),N(()=>{var d;return(d=h(e.buttonRef))==null?void 0:d.focus({preventScroll:!0})});break;case b.Tab:t.preventDefault(),t.stopPropagation(),e.closeMenu(),N(()=>de(h(e.buttonRef),t.shiftKey?K.Previous:K.Next));break;default:t.key.length===1&&(e.search(t.key),r.value=setTimeout(()=>e.clearSearch(),350));break}}function w(t){switch(t.key){case b.Space:t.preventDefault();break}}let c=ue(),u=D(()=>c!==null?(c.value&O.Open)===O.Open:e.menuState.value===0);return()=>{var t,i;let d={open:e.menuState.value===0},{...m}=a,M={"aria-activedescendant":e.activeItemIndex.value===null||(t=e.items.value[e.activeItemIndex.value])==null?void 0:t.id,"aria-labelledby":(i=h(e.buttonRef))==null?void 0:i.id,id:o,onKeydown:s,onKeyup:w,role:"menu",tabIndex:0,ref:e.itemsRef};return $({ourProps:M,theirProps:m,slot:d,attrs:v,slots:p,features:U.RenderStrategy|U.Static,visible:u.value,name:"MenuItems"})}}}),Pe=V({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(a,{slots:v,attrs:p,expose:n}){var l;let o=(l=a.id)!=null?l:`headlessui-menu-item-${j()}`,e=_("MenuItem"),r=g(null);n({el:r,$el:r});let s=D(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===o:!1),w=ge(r),c=D(()=>({disabled:a.disabled,get textValue(){return w()},domRef:r}));Q(()=>e.registerItem(o,c)),se(()=>e.unregisterItem(o)),H(()=>{e.menuState.value===0&&s.value&&e.activationTrigger.value!==0&&N(()=>{var f,C;return(C=(f=h(r))==null?void 0:f.scrollIntoView)==null?void 0:C.call(f,{block:"nearest"})})});function u(f){if(a.disabled)return f.preventDefault();e.closeMenu(),G(h(e.buttonRef))}function t(){if(a.disabled)return e.goToItem(I.Nothing);e.goToItem(I.Specific,o)}let i=he();function d(f){i.update(f)}function m(f){i.wasMoved(f)&&(a.disabled||s.value||e.goToItem(I.Specific,o,0))}function M(f){i.wasMoved(f)&&(a.disabled||s.value&&e.goToItem(I.Nothing))}return()=>{let{disabled:f}=a,C={active:s.value,disabled:f,close:e.closeMenu},{...Y}=a;return $({ourProps:{id:o,ref:r,role:"menuitem",tabIndex:f===!0?void 0:-1,"aria-disabled":f===!0?!0:void 0,disabled:void 0,onClick:u,onFocus:t,onPointerenter:d,onMouseenter:d,onPointermove:m,onMousemove:m,onPointerleave:M,onMouseleave:M},theirProps:{...p,...Y},slot:C,attrs:p,slots:v,name:"MenuItem"})}}});function Te(a,v){return k(),L("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}const Ne={class:"relative"},Ve={class:"block truncate capitalize"},Ce=V({__name:"Dropdown",props:{items:{type:Object,required:!0},modelValue:{type:[String,Boolean,Number,Object,null],default:null},dropdownDirection:{type:String,default:"bottom"},placeholder:{type:String,default:""},fixedPlaceholder:{type:Boolean,default:()=>!1},buttonClass:{type:[String,Array,Object],default:""}},emits:["change","update:model-value"],setup(a,{emit:v}){const p=a,n=v,l=g(p.modelValue);return(o,e)=>(k(),T(x(ke),{as:"div",class:"min-w-16 cursor-pointer"},{default:R(()=>[S("div",Ne,[P(x(De),{class:B(["relative flex items-center gap-x-2 w-full rounded py-2 px-3 text-left focus:outline-none text-xs hover:opacity-90 border border-form-border text-slate-700 bg-white",a.buttonClass])},{default:R(()=>[ve(o.$slots,"button-content",{},()=>[S("span",Ve,z(a.fixedPlaceholder?a.placeholder||"Select":l.value?l.value:a.placeholder),1),P(x(Te),{class:"w-4 text-slate-700","aria-hidden":"true"})])]),_:3},8,["class"]),P(me,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:R(()=>[P(x(Re),{as:"div",class:B(["absolute max-h-60 border min-w-[150px] overflow-auto rounded-md bg-white z-10",[a.dropdownDirection==="bottom"?"bottom-10 md:bottom-auto md:top-10":"bottom-10"]])},{default:R(()=>[(k(!0),L(pe,null,fe(a.items,r=>(k(),T(x(Pe),{key:r,as:"div",class:"cursor-pointer border-b border-[#e9eef4] px-3 pt-[10px] pb-[7px] text-xs text-[#3d4146] hover:bg-[#f8f9fa] capitalize",onClick:()=>{l.value=r,n("change",l.value),n("update:model-value",l.value)}},{default:R(()=>[F(z(r),1)]),_:2},1032,["onClick"]))),128))]),_:1},8,["class"])]),_:1})])]),_:3}))}}),A={__name:"Datepicker",props:{wrapperClass:{type:[String,Object,Array],default:""},modelValue:{type:[String,Date,Object,Array,null],default:null},monthPicker:{type:Boolean,default:()=>!1},range:{type:Boolean,default:()=>!1}},emits:["update:model-value","range-start","range-end"],setup(a,{emit:v}){const p=a,n=v,l=g(p.modelValue),o=e=>{e&&(l.value=e),n("update:model-value",e)};return(e,r)=>(k(),L("div",{class:B(["relative",a.wrapperClass])},[P(x(ye),{modelValue:l.value,"onUpdate:modelValue":[r[0]||(r[0]=s=>l.value=s),o],"input-class-name":"border-0 rounded-none py-2 px-1 border-b border-form-border outline-none text-sm read-only:border-gray-200 read-only:text-gray-500 read-only:cursor-not-allowed transition-all bg-white text-slate-800 font-sans","menu-class-name":"!border !border-solid !border-form-border",inline:"",teleport:!0,"month-picker":a.monthPicker,range:a.range,"auto-apply":!0,"hide-input-icon":!0,clearable:!1,"enable-time-picker":!1,format:"PP","action-row":{showNow:!1,showPreview:!0,showSelect:!1,showCancel:!1},config:{keepActionRow:!a.monthPicker},onRangeStart:r[1]||(r[1]=s=>n("range-start",l.value)),onRangeEnd:r[2]||(r[2]=s=>n("range-end",l.value))},null,8,["modelValue","month-picker","range","config"])],2))}},Oe={class:"space-y-4 px-6 py-6"},$e={class:""},_e=S("label",{class:"text-xs block font-semibold mb-1"},"Type",-1),Ee=S("label",{class:"text-xs block font-semibold mb-1"},"Date",-1),Ae={class:"relative z-[1]"},Be={class:"flex items-center justify-end gap-x-4 p-4"},Ke={__name:"TransactionFilterModal",props:{show:{type:Boolean,default:()=>!1}},emits:["close","dates-changed"],setup(a,{emit:v}){const p=v;D(()=>{let c=y(e.value[0],"MMM dd, yyyy"),u=y(e.value[1],"MMM dd, yyyy"),t=`${c} - ${u}`,i=y(new Date(o.value.year,o.value.month),"MMM yyyy");return n.value==="daily"?y(l.value,"MMM dd, yyyy"):n.value==="monthly"?i:n.value==="calendar"?t:"Date label"});const n=g("monthly"),l=g(new Date),o=g({month:Number(y(new Date,"MM"))-1,year:Number(y(new Date,"yyyy"))}),e=g([new Date,new Date]);Q(()=>{r()});const r=()=>{let c=JSON.parse(localStorage.getItem("transaction_filter_modal"));c&&(n.value=c.view??"monthly",l.value=c.day??new Date,o.value=c.month??{month:Number(y(new Date,"MM"))-1,year:Number(y(new Date,"yyyy"))},e.value=c.range??[new Date,new Date])},s=c=>{n.value==="daily"&&(o.value={month:Number(y(l.value,"M"))-1,year:Number(y(l.value,"yyyy"))},e.value=[l.value,l.value]),n.value==="monthly"&&(l.value=new Date(q(new Date(o.value.year,o.value.month))),e.value=[l.value,new Date(J(l.value))]),n.value==="calendar"&&(l.value=e.value[0],o.value={month:Number(y(e.value[0],"M"))-1,year:Number(y(e.value[0],"yyyy"))})},w=()=>{let c={start:new Date,end:new Date};n.value==="daily"&&(c.start=y(l.value,"yyyy-MM-dd"),c.end=y(l.value,"yyyy-MM-dd")),n.value==="monthly"&&(c.start=y(q(new Date(o.value.year,o.value.month)),"yyyy-MM-dd"),c.end=y(J(new Date(o.value.year,o.value.month)),"yyyy-MM-dd")),n.value==="calendar"&&(c.start=y(e.value[0],"yyyy-MM-dd"),c.end=y(e.value[1],"yyyy-MM-dd")),localStorage.setItem("transaction_filter_modal",JSON.stringify({view:n.value,day:l.value,month:o.value,range:e.value})),p("dates-changed",c)};return(c,u)=>(k(),T(x(be),{show:a.show,title:"Transaction Filters","wrapper-class":"lg:!max-w-[350px]",onClose:u[4]||(u[4]=t=>p("close"))},{"body-footer":R(()=>[S("div",Oe,[S("div",$e,[_e,P(x(Ce),{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=t=>n.value=t),class:"!min-w-0","button-class":"justify-between",items:["daily","monthly","calendar"]},null,8,["modelValue"])]),S("div",null,[Ee,S("div",Ae,[n.value==="daily"?(k(),T(x(A),{key:0,modelValue:l.value,"onUpdate:modelValue":[u[1]||(u[1]=t=>l.value=t),s]},null,8,["modelValue"])):E("",!0),n.value==="monthly"?(k(),T(x(A),{key:1,modelValue:o.value,"onUpdate:modelValue":[u[2]||(u[2]=t=>o.value=t),s],"month-picker":!0},null,8,["modelValue"])):E("",!0),n.value==="calendar"?(k(),T(x(A),{key:2,modelValue:e.value,"onUpdate:modelValue":[u[3]||(u[3]=t=>e.value=t),s],range:!0},null,8,["modelValue"])):E("",!0)])])]),S("div",Be,[P(x(W),{variant:"blank"},{default:R(()=>[F(" Cancel ")]),_:1}),P(x(W),{onClick:w},{default:R(()=>[F(" Submit ")]),_:1})])]),_:1},8,["show"]))}};export{Ke as _,Ce as a};
